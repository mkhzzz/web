<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>khzzz's CD wishlist</title>

    <style>
        /* General Page Styling */
        body {
            background-color: #F0A8D0;
            color: #FFEBD4;
            font-size: clamp(1rem, 1vw + 0.5rem, 1.6rem);
            font-family: 'Philosophy';
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            transition: background-color 1s ease;
        }

        html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

        * {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
        }

        @font-face {
            font-family: 'Cactus Jack'; 
            src: url('assets/fonts/CactusJack.otf') format('opentype');
        }
        @font-face {
            font-family: 'Yipes';
            src: url('assets/fonts/Yipes.otf') format('opentype');
        }
        @font-face {
            font-family: 'Glassure';
            src: url('assets/fonts/Glassure.otf') format('opentype');
        }
        @font-face {
            font-family: 'Pecita';
            src: url('assets/fonts/Pecita.otf') format('opentype');
        }
        @font-face {
            font-family: 'Philosophy';
            src: url('assets/fonts/Philosophy.otf') format('opentype');
        }

        #title {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #F0A8D0;
            text-align: center;
            z-index: 1000;
            padding-bottom: 0;
            box-sizing: border-box;;
        }

        h1 {
            font-family: 'Philosophy', sans-serif;
            font-size: clamp(2rem, 3vw + 1rem, 4rem);
            color: #FFEBD4;
            text-align: center;
        }
        
        h2 {
            font-size: 3.75rem;
            }

        #title h2 {
            font-family: 'Glassure';
            font-size: clamp(2.5rem, 2rem + 2vw, 6rem);
            color: #FFEBD4;
            text-align: center;
            width: 100%;
            margin: 5px 0 0 0;
            font-weight: normal;
        }

        /* Layout */
        .main-container {
            display: flex;
            min-height: 100vh;
            padding-top: 120px;
            box-sizing: border-box;
            padding-bottom: 0;
            flex-direction: row;
        }

        /* Left section with album info */
        .left-section {
            width: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Middle section with enlarged album */
        .middle-section {
            width: 30%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible;
        }

        /* Right section with album slider */
        .right-section {
            width: 20%;
            position: relative;
            height: calc(100vh - 120px);
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        /* Album Info Box */
        .album-info {
        font-family: 'Pecita';
        font-size: clamp(1.2rem, 1vw + 1rem, 2rem);
        color: #FFEBD4;
        width: 500px;
        height: 400px;
        background: rgba(247, 181, 202, 0.7);
        backdrop-filter: blur(8px);
        padding: 69px;
        border-radius: 15px;
        box-shadow: 0 2px 15px rgba(255, 198, 198, 0.6);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    
    /* Add gradient overlay to album info */
    .album-info::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, transparent 30%, rgba(255, 235, 212, 0.15));
        z-index: 0;
    }
    
    /* Make content position relative to appear above gradient */
    .album-info * {
        position: relative;
        z-index: 1;
    }


    .album-name {
        font-family: 'Yipes', sans-serif;
        font-size: 4.4rem;
        color: #fff8f0;
    }

        .artist-name {
            font-family: 'Philosophy', sans-serif;
            font-size: 2rem;
            color: #FFEBD4;
            font-style: italic;
        }

        /* Active Album Display */
        .active-album-display {
            position: relative;
            transform-origin: center;
            transition: transform 0.4s ease, opacity 0.5s ease;
            opacity: 1;
        }

        .active-album-display.hidden {
            opacity: 0;
            transform: scale(0.8);
        }

        .active-album-display.show {
            opacity: 1;
            transform: scale(1);
        }
        
        /* CD Case Styling */
        .cd-case {
            height: 206px;
            width: 230px;
            margin: 10px;
            display: inline-block;
            border-radius: 3px;
            background: rgba(0, 0, 0, 0);
            box-shadow: 0px 2px 10px 1px rgba(0, 0, 0, 0.6), 
                    inset 0px 0px 20px 2px rgba(0, 0, 0, 0.4), 
                    inset 0px 0px 5px 1px rgba(255, 255, 255, 0.6), 
                    inset 0px 0px 0px 1px rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease-in-out, filter 0.3s ease-in-out;
            position: relative;
            z-index: 2;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .cd-case:hover {
            transform: scale(1.05);
            cursor: pointer;
        }

        .spotify-indicator {
            position: absolute;
            bottom: 10px;
            left: 60px;
            z-index: 20;
            width: 40px;
            height: 40px;
            border-radius: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity .2s ease-in, background-color .2s ease-in;
        }

        .cd-case:hover .spotify-indicator {
            opacity: 1;
        }

        /* Enlarged CD Case */
        .enlarged-case {
            height: 412px;
            width: 460px;
            transform: scale(1);
            margin: 0 auto;
            filter: brightness(1) !important;
        }

        .album-bg {
            height: 100%;
            width: 100%;
            border-radius: 3px;
            background-size: cover;
            background-position: center;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
            filter: blur(3px);
            opacity: 0.5; 
        }

        .album-art {
            height: 100%;
            width: 90%;
            border-radius: 3px;
            background-size: cover;
            background-position: center;
            position: absolute;
            top: 0;
            right: 0;
            z-index: 1; 
            opacity: 0.9;
            box-shadow: inset 0px 0px 10px rgba(0, 0, 0, 1);
        }

        .sup {
            height: 10px;
            width: 20px;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: inset 0px 0px 6px 1px rgba(0, 0, 0, 0.22),
                        inset 0px 0px 1px 1px rgba(255, 255, 255, 0.17);
            position: absolute;
            z-index: 3;
        }

        /* Enlarged sup elements */
        .enlarged-case .sup {
            height: 20px;
            width: 40px;
        }

        .pos-tl { top: 0; left: 60px; border-radius: 0 0 50px 50px; }
        .pos-tr { top: 0; right: 10px; border-radius: 0 0 50px 50px; }
        .pos-bl { bottom: 0; left: 60px; border-radius: 50px 50px 0 0; }
        .pos-br { bottom: 0; right: 10px; border-radius: 50px 50px 0 0; }

        /* Adjusted positions for enlarged case */
        .enlarged-case .pos-tl { left: 110px; }
        .enlarged-case .pos-tr { right: 30px; }
        .enlarged-case .pos-bl { left: 110px; }
        .enlarged-case .pos-br { right: 30px; }

        .spine {
            height: 120px;
            width: 15px;
            background: linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.07) 100%);
            box-shadow: 3px 0px 5px 0px rgba(0, 0, 0, 0.23), 
                        inset 0px 0px 7px 0px rgba(0, 0, 0, 0.22), 
                        inset 0px 0px 0px 1px rgba(255, 255, 255, 0.22);
            position: absolute;
            left: -10px;
            top: 50%;
            transform: translateY(-50%);
            border-radius: 0 50% 50% 0;
            z-index: 3;
        }

        /* Enlarged spine */
        .enlarged-case .spine {
            height: 240px;
            width: 30px;
            left: -20px;
        }

        /* Half-circle Album Slider Container */
        #circle-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #half-circle {
            width: 500px;
            height: 250px; /* Half the total diameter */
            position: relative;
            margin-left: -150px;
            overflow: visible;
        }

        /* Album item positioning for half-circle */
        .album-item {
            position: absolute;
            transition: all 0.3s ease;
            transform-origin: center;
        }

        .album-item[data-active="true"] .circle-cd-case {
        filter: brightness(1.2); /* Brighter for active album */
        transform: scale(1.15); /* Slightly bigger for active album */
    }

        .circle-cd-case {
            height: 103px;
            width: 115px;
            border-radius: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0px 2px 5px 1px rgba(0, 0, 0, 0.6), 
                    inset 0px 0px 10px 1px rgba(0, 0, 0, 0.4), 
                    inset 0px 0px 3px 1px rgba(255, 255, 255, 0.6);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            transition: transform 0.3s ease, filter 0.3s ease;
            filter: brightness(0.7);
        }

        .circle-cd-case:hover {
            transform: scale(1.1);
        }

        .circle-album-art {
            height: 100%;
            width: 90%;
            border-radius: 2px;
            background-size: cover;
            background-position: center;
            position: absolute;
            top: 0;
            right: 0;
            opacity: 0.9;
            box-shadow: inset 0px 0px 5px rgba(0, 0, 0, 1);
        }

        .circle-spine {
            height: 60px;
            width: 8px;
            background: linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.07) 100%);
            box-shadow: 2px 0px 3px 0px rgba(0, 0, 0, 0.23), 
                        inset 0px 0px 4px 0px rgba(0, 0, 0, 0.22), 
                        inset 0px 0px 0px 1px rgba(255, 255, 255, 0.22);
            position: absolute;
            left: -5px;
            top: 50%;
            transform: translateY(-50%);
            border-radius: 0 50% 50% 0;
            z-index: 3;
        }

        .subtitle {
        font-family: 'Cactus Jack';
        font-size: clamp(1.5rem, 1rem + 1vw, 3rem);
        color: #FFEBD4;
        text-align: center;
        margin: 0;
        padding: 0;
    }
    
    /* Add the Spotify button styling */
    .spotify-link {
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px;
        border-radius: 100px;
        background-color: rgba(255, 235, 212, 0.1);
        transition: background-color 0.3s ease;
    }
    
    .spotify-link:hover {
        background-color: rgba(255, 235, 212, 0.2);
    }

    .watermark {
        position: fixed;
        bottom: 0px;
        left: 20px;
        font-family: 'Philosophy';
        font-size: 1rem;
        color: #FFEBD4;
    }

.nav-buttons {
    position: fixed;
    top: 30px;
    left: 20px;
    display: flex;
    z-index: 1000;
}

.nav-button {
    width: 66px;
    height: 66px;
    display: block;
    transition: all 0.3s ease;
}

.nav-button:hover {
    transform: scale(1.1) rotate(360deg);
    filter: drop-shadow(0 0 5px rgba(240, 168, 208, 0.5));
}

.title-link {
            text-decoration: none;
            color: inherit;
            display: inline-block;
        }

        .title-link:hover {
            cursor: pointer;
            transform: scale(1.01);
            transition: transform 0.3s ease;
        }
    </style>
</head>
<body>
    <header id="title">
        <a href="index.html" class="title-link"><h2>khoakhokhao</h2></a>
        <p class="subtitle">mấy album/EP t thích, nào có tiền thì mua đĩa :))</p>
        <a href="https://open.spotify.com/user/3n56z0tl36m0g9ybrnmaqtigw" target="_blank" class="spotify-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="#FFEBD4" align="left">
                <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.838-.118-.959-.539-.12-.421.119-.839.54-.959 4.56-1.021 8.52-.6 11.64 1.32.42.18.48.659.36 1.08zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.24 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
            </svg>
        </a>

        <div class="nav-buttons">
            <a href="pc-vinyl-fin.html" class="nav-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40">
                    <!-- Detailed Vinyl Record Button -->
                    <circle cx="20" cy="20" r="20" fill="#333333"/>
                    
                    <!-- Vinyl Center Label -->
                    <circle cx="20" cy="20" r="7" fill="#FFEBD4"/>
                    <circle cx="20" cy="20" r="1.5" fill="#111111"/>
                    
                    <!-- Vinyl Grooves -->
                    <circle cx="20" cy="20" r="18" fill="none" stroke="#222222" stroke-width="0.5"/>
                    <circle cx="20" cy="20" r="16" fill="none" stroke="#222222" stroke-width="0.5"/>
                    <circle cx="20" cy="20" r="14" fill="none" stroke="#222222" stroke-width="0.5"/>
                    <circle cx="20" cy="20" r="12" fill="none" stroke="#222222" stroke-width="0.5"/>
                    <circle cx="20" cy="20" r="10" fill="none" stroke="#222222" stroke-width="0.5"/>
                    
                    <!-- Vinyl Light Reflection -->
                    <ellipse cx="13" cy="13" rx="10" ry="4" fill="rgba(255,255,255,0.1)" transform="rotate(-45, 13, 13)"/>
                </svg>
            </a>
        </div>
        <p class="watermark">20/2/25 - 10/3/25</p>
    </header>
    
    <div class="main-container">
        <!-- Left section with album info -->
        <div class="left-section">
            <div class="album-info" id="album-info">
                <h2>scroll through !</h2>
            </div>
        </div>
        
        <!-- Middle section with enlarged active album -->
        <div class="middle-section">
            <div class="active-album-display" id="active-album-display"></div>
        </div>
        
        <!-- Right section with half-circle album list -->
        <div class="right-section">
            <div id="circle-container">
                <div id="half-circle"></div>
                <!-- albums will be added here by JavaScript -->
            </div>
        </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
    const albumInfo = document.getElementById("album-info");
    const activeAlbumDisplay = document.getElementById("active-album-display");
    const circleContainer = document.getElementById("circle-container");
    const halfCircle = document.getElementById("half-circle");
    const body = document.body;

    // List of albums with individual links
    const albums = [
                { img: "album107.jpg", link: "https://open.spotify.com/album/1weenld61qoidwYuZ1GESA", name: "Kind of Blue", artist: "Miles Davis", rating: "999/10" },
                { img: "album65.jpg", link: "https://open.spotify.com/album/182D7nDZqcYghZKQxnSJ03", name: "nostalgia, ULTRA.", artist: "Frank Ocean", rating: "10/10 unreleased" },
                { img: "album1.jpg", link: "https://open.spotify.com/album/5EYKrEDnKhhcNxGedaRQeK", name: "eternal sunshine", artist: "Ariana Grande", rating: "9/10" },
                { img: "album2.jpg", link: "https://open.spotify.com/album/0rnW4hH24v4j16wUbeR5Tn", name: "early twenties", artist: "Cat Burns", rating: "8.5/10" },
                { img: "album3.jpg", link: "https://open.spotify.com/album/6MH3CAXp8AN8ELrbex18dM", name: "Deathconsciousness", artist: "Have A  Nice Life", rating: "9/10" },
                { img: "album4.jpg", link: "https://open.spotify.com/album/2fenSS68JI1h4Fo296JfGr", name: "folklore", artist: "Taylor Swift", rating: "8.8/10" },
                { img: "album5.jpg", link: "https://open.spotify.com/album/7txGsnDSqVMoRl6RQ9XyZP", name: "HEROES & VILLAINS", artist: "Metro Boomin", rating: "9.9/10" },
                { img: "album6.jpg", link: "https://open.spotify.com/album/460fhxEztqiD7DkxTAETRL", name: "HEADSPLIT", artist: "Maggie Lindemann", rating: "9/10" },
                { img: "album7.jpg", link: "https://open.spotify.com/album/1uE3dRPe3SrGdNhd1nWlSa", name: "Bird's Eye", artist: "Ravyn Lenae", rating: "9.123/10" },
                { img: "album8.jpg", link: "https://open.spotify.com/album/6hPkbAV3ZXpGZBGUvL6jVM", name: "Hybrid Theory", artist: "Linkin Park", rating: "9.8/10" },
                { img: "album9.jpg", link: "https://open.spotify.com/album/6TQ8nqw43uUOWu7Yqp58ko", name: "The House Is Burning", artist: "Isaiah Rashad", rating: "9.89/10" },
                { img: "album10.jpg", link: "https://open.spotify.com/album/0AHaFhhNCg3u0j6EJ3NfP7", name: "Into", artist: "Sonder", rating: "10/10" },
                { img: "album11.jpg", link: "https://open.spotify.com/album/0vVekV45lOaVKs6RZQQNob", name: "In The Aeroplane Over The Sea", artist: "Neutral Milk Hotel", rating: "9.5/10" },
                { img: "album12.jpg", link: "https://open.spotify.com/album/2yNaksHgeMQM9Quse463b5", name: "Is This It", artist: "The Strokes", rating: "10/10" },
                { img: "album13.jpg", link: "https://open.spotify.com/album/5zi7WsKlIiUXv09tbGLKsE", name: "IGOR", artist: "Tyler, The Creator", rating: "10/10" },
                { img: "album14.jpg", link: "https://open.spotify.com/album/3mH6qwIy9crq0I9YQbOuDf", name: "Blonde", artist: "Frank Ocean", rating: "1000000/10" },
                { img: "album15.jpg", link: "https://open.spotify.com/album/2PfGKHtqEX58bHtkQxJnWG", name: "Love Deluxe", artist: "Sade", rating: "9.876/10" },
                { img: "album16.jpg", link: "https://open.spotify.com/album/20r762YmB5HeofjMCiPMLv", name: "My Beautiful Dark Twisted Fantasy", artist: "Kanye West", rating: "9/10" },
                { img: "album17.jpg", link: "https://open.spotify.com/album/35XpEKORZ4y6OrCZSKsi46A", name: "Norman Fucking Rockwell", artist: "Lana Del Rey", rating: "11/10" },
                { img: "album18.jpg", link: "https://open.spotify.com/album/4p9dVvZDaZliSjTCbFRhJy", name: "My Head Is An Animal", artist: "Of Monsters and Men", rating: "10/10" },
                { img: "album19.jpg", link: "https://open.spotify.com/album/37ABUtLPqktcopsBJ7jmXT", name: "Oh Wonder", artist: "Oh Wonder", rating: "9/10" },
                { img: "album20.jpg", link: "https://open.spotify.com/album/4mvxoogQn8p84Wz17zTHnJ", name: "CASE STUDY 01", artist: "Daniel Caesar", rating: "10/10" },
                { img: "album21.jpg", link: "https://open.spotify.com/album/4W4gNYa4tt3t8V6FmONWEK", name: "Oncle Jazz", artist: "Men I Trust", rating: "10.1/10" },
                { img: "album22.jpg", link: "https://open.spotify.com/album/4m2880jivSbbyEGAKfITCa", name: "Random Access Memory", artist: "Daft Punk", rating: "8.88/10" },
                { img: "album23.jpg", link: "https://open.spotify.com/album/61w6ldkTnQNDTImaUiBoQs", name: "pomodorosa", artist: "pomodorosa", rating: "9/10" },
                { img: "album24.jpg", link: "https://open.spotify.com/album/2MsR68gI6TNZSztsRYgs6p", name: "Sahar", artist: "Tamino", rating: "8.5/10" },
                { img: "album25.jpg", link: "https://open.spotify.com/album/3I2KkX13lHXuYqfBjSOopo", name: "Bury Me At Makeout Creek", artist: "Mitski", rating: "8.9/10" },
                { img: "album26.jpg", link: "https://open.spotify.com/album/50ZenUP4O2Q5eCy2NRNvuz", name: "Stick Season", artist: "Noah Kahan", rating: "8.123/10" },
                { img: "album27.jpg", link: "https://open.spotify.com/album/5B10Jy0L9Lbks24hqhRC8D", name: "Spring Lovers", artist: "Minuano", rating: "10/10" },
                { img: "album28.jpg", link: "https://open.spotify.com/album/3OvZYx7AAGplmJjwD29JiV", name: "Timely!!", artist: "Anri", rating: "8/10" },
                { img: "album30.jpg", link: "https://open.spotify.com/album/41GuZcammIkupMPKH2OJ6I", name: "ASTROWORLD", artist: "Travis Scott", rating: "11/10" },
                { img: "album31.jpg", link: "https://open.spotify.com/album/1SgtXskC74No0x9a9iDlfw", name: "Analogue", artist: "ODIE", rating: "9/10" },
                { img: "album32.jpg", link: "https://open.spotify.com/album/41GuZcammIkupMPKH2OJ6I", name: "The Bends", artist: "Radiohead", rating: "9.7/10" },
                { img: "album33.jpg", link: "https://open.spotify.com/album/2v6ANhWhZBUKkg6pJJBs3B", name: "What's Going On", artist: "Marvin Gaye", rating: "10/10" },
                { img: "album34.jpg", link: "https://open.spotify.com/album/0PHMNbcgHfzSUALlfk7wGg", name: "Wasteland", artist: "Brent Faiyaz", rating: "9/10" },
                { img: "album35.jpg", link: "https://open.spotify.com/album/4oL7pMxnb04uuRI7ReXmuh", name: "Who Really Cares", artist: "TV Girl", rating: "8.888/10" },
                { img: "album36.jpg", link: "https://open.spotify.com/album/0LlzHi8Erl8zpTumqt88Qe", name: "Why Lawd?", artist: "NxWorries", rating: "100/10" },
                { img: "album37.jpg", link: "https://open.spotify.com/album/18iFxjZugvKhuNNMbLjZJF", name: "Wiped Out!", artist: "The Neighbouurhood", rating: "8.9/10" },
                { img: "album38.jpg", link: "https://open.spotify.com/album/7b55VfUk2Vpuqnac9NDREc", name: "Lamp Genso", artist: "Lamp", rating: "11/10" },
                { img: "album39.jpg", link: "https://open.spotify.com/album/4eLPsYPBmXABThSJ821sqY", name: "DAMN.", artist: "Kendrick Lamar", rating: "100/10" },
                { img: "album40.jpg", link: "https://open.spotify.com/album/4zJnne9ViG9kIR8o8AntfK", name: "Girl's Blue, Happy Sad", artist: "Sangatsu no Phantasia", rating: "8/10" },
                { img: "album41.jpg", link: "https://open.spotify.com/album/2zlqGmvK44juWNX1LaJ0US", name: "Stardust in Blue", artist: "Kaede", rating: "9/10" },
                { img: "album42.jpg", link: "https://open.spotify.com/album/4LH4d3cOWNNsVw41Gqt2kv", name: "The Dark Side Of The Moon", artist: "Pink Floyd", rating: "10/10" },
                { img: "album43.jpg", link: "https://open.spotify.com/album/02w1xMzzdF2OJxTeh1basm", name: "Fallen", artist: "Evanescence", rating: "8.8/10" },
                { img: "album44.jpg", link: "https://open.spotify.com/album/78bpIziExqiI9qztvNFlQu", name: "AM", artist: "Arctic Monkey", rating: "9.8/10" },
                { img: "album45.jpg", link: "https://open.spotify.com/album/3xybjP7r2VsWzwvDQipdM0", name: "Freudian", artist: "Daniel Caesar", rating: "9/10" },
                { img: "album46.jpg", link: "https://open.spotify.com/album/3kjHLu1pL7tdY88GFwEkl6", name: "The death of Slim Shady (Coup de Grâce)", artist: "Eminem", rating: "10/10" },
                { img: "album47.jpg", link: "https://open.spotify.com/album/2GuROKcqyHdpIDcgxml1C7", name: "69 Love Songs", artist: "The Magnetic Fields", rating: "6.9/10" },
                { img: "album48.jpg", link: "https://open.spotify.com/album/5si4gmIzHyLBKSSuUE9d2A", name: "KING", artist: "Kanaria", rating: "7.7/10" },
                { img: "album49.jpg", link: "https://open.spotify.com/album/3vKrt8nMzrqcjUf7rdeA3g", name: "Vanity", artist: "Bryant Barnes", rating: "9.9/10" },
                { img: "album50.jpg", link: "https://open.spotify.com/album/0pEHMpnX1jA44pzhW3n0JB", name: "Faye Webster", artist: "Faye Webster", rating: "9/10" },
                { img: "album51.jpg", link: "https://open.spotify.com/album/2rhNQbqRNxiNQkDXTffe1V", name: "Beatopia", artist: "beabadoobee", rating: "8/10" },
                { img: "album52.jpg", link: "https://open.spotify.com/album/2nkto6YNI4rUYTLqEwWJ3o", name: "Flower Boy", artist: "Tyler, The Creator", rating: "9.9/10" },
                { img: "album53.jpg", link: "https://open.spotify.com/album/4kkVGtCqE2NiAKosri9Rnd", name: "Immunity", artist: "Clairo", rating: "8.8/10" },
                { img: "album54.jpg", link: "https://open.spotify.com/album/1ZnJrvDY8ih3ppPWR2Tc2a", name: "Gieo", artist: "Ngọt", rating: "8/10" },
                { img: "album55.jpg", link: "https://open.spotify.com/album/1E9iqjfSf5I5hPNfI1DRIh", name: "Atlas: I", artist: "Sleeping At Last", rating: "8/10" },
                { img: "album56.jpg", link: "https://open.spotify.com/album/55S2SOsWCYekWJtJ8LwVqV", name: "HARDSTONE PSYCHO", artist: "Don Toliver", rating: "9.8/10" },
                { img: "album57.jpg", link: "https://open.spotify.com/album/2Ti79nwTsont5ZHfdxIzAm", name: "?", artist: "XXXTENTACION", rating: "9/10" },
                { img: "album58.jpg", link: "https://open.spotify.com/album/71cQY3dUThCY6vVKaUIXqR", name: "I met you wheen I was 18. (the playlist)", artist: "Lauv", rating: "9.9/10" },
                { img: "album59.jpg", link: "https://open.spotify.com/album/5s0rmjP8XOPhP6HhqOhuyC", name: "Stoney (Deluxe)", artist: "Post Malone", rating: "8.9/10" },
                { img: "album60.jpg", link: "https://open.spotify.com/album/1r84Srqz3Ph0EPucaQQLLm", name: "Grow", artist: "Bedroom", rating: "8/10" },
                { img: "album61.jpg", link: "https://open.spotify.com/album/3USQKOw0se5pBNEndu82Rb", name: "loveless", artist: "my bloody valentine", rating: "9/10" },
                { img: "album62.jpg", link: "https://open.spotify.com/album/2GuROKcqyHdpIDcgxml1C7", name: "Abbey Road", artist: "The Beatles", rating: "8/10" },
                { img: "album63.jpg", link: "https://open.spotify.com/album/2UJcKiJxNryhL050F5Z1Fk", name: "Nevermind", artist: "Nirvana", rating: "9/10" },
                { img: "album64.jpg", link: "https://open.spotify.com/album/2z9lM6LDS58F70IGyQ1XMK", name: "Never Enough", artist: "Daniel Caesar", rating: "11/10" },
                { img: "album66.jpg", link: "https://open.spotify.com/album/1rLLyY5p6HXNl2lKzINWp5", name: "Lungs (Deluxe)", artist: "Florence + The Machine", rating: "8/10" },
                { img: "album67.jpg", link: "https://open.spotify.com/album/70hX7IYqmUGV97OXs2v848", name: "One Wayne G", artist: "Mac DeMarco", rating: "8.8/10" },
                { img: "album68.jpg", link: "https://open.spotify.com/album/3WmujGwOS0ANHkJRnMH6n8", name: "Preacher's Daughter", artist: "Ethel Cain", rating: "9.123/10" },
                { img: "album69.jpg", link: "https://open.spotify.com/album/0RItfbXPf5eDzwdsgK9rKV", name: "Abyss", artist: "Pastel Ghost", rating: "7.7/10" },
                { img: "album70.jpg", link: "https://open.spotify.com/album/5DfKDonIvNlxlzA4ORIOFm", name: "Requiem", artist: "keshi", rating: "9/10" },
                { img: "album71.jpg", link: "https://open.spotify.com/album/0hBRqPYPXhr1RkTDG3n4Mk", name: "The Secret Of Us (Deluxe)", artist: "Gracie Abrams", rating: "8.1/10" },
                { img: "album72.jpg", link: "https://open.spotify.com/album/3VQkNrG74QPY4rHBPoyZYZ", name: "SOS Deluxe: LANA", artist: "SZA", rating: "10/10" },
                { img: "album73.jpg", link: "https://open.spotify.com/album/5fqlZFKYqvkIe2jdDGt2nl", name: "Howl's Moving Castle Soundtrack", artist: "Joe Hisaishi", rating: "8/10" },
                { img: "album74.jpg", link: "https://open.spotify.com/album/5wtE5aLX5r7jOosmPhJhhk", name: "Swimming", artist: "Mac Miller", rating: "9.9/10" },
                { img: "album75.jpg", link: "https://open.spotify.com/album/0qWcLfCZ8wtcoOdX14oGNI", name: "Stranger In The Alps", artist: "Phoebe Bridgers", rating: "9/10" },
                { img: "album76.jpg", link: "https://open.spotify.com/album/0E4xv5gPjykrwBgBZzI8XG", name: "Back To Black (Deluxe)", artist: "Amy Winehouse", rating: "8.5/10" },
                { img: "album77.jpg", link: "https://open.spotify.com/album/5ZGzGGNAB6U7QlKpdaMu0d", name: "kessoku band", artist: "kessoku band", rating: "8/10" },
                { img: "album78.jpg", link: "https://open.spotify.com/album/1XoE7ZirQ3gjxq8HIzTJU9", name: "COWBOY BEBOP Soundtrack", artist: "SEATBELTS", rating: "7.7/10" },
                { img: "album79.jpg", link: "https://open.spotify.com/album/3TSMSh5dai7WEnEGOoMXBZ", name: "When We Were Friends", artist: "The Backseat Lovers", rating: "8/10" },
                { img: "album80.jpg", link: "https://open.spotify.com/album/0BA1h18jGi9tQ4iUAacLMG", name: "WAKE UP LUCKI", artist: "LUCKI, F1LTHY", rating: "8/10" },
                { img: "album81.jpg", link: "https://open.spotify.com/album/3ozP3MbrHPgoDRzdPf693L", name: "You", artist: "Larry Lovestein & The Velvet Revival", rating: "10/10" },
                { img: "album82.jpg", link: "https://open.spotify.com/album/6FKP2O0oOvZlDkF0gyTjiJ", name: "Crl (Deluxe)", artist: "SZA", rating: "10/10" },
                { img: "album83.jpg", link: "https://open.spotify.com/album/3cN3mENkACWuRCDOuQUtfw", name: "Remember That You Will Die", artist: "Polyphia", rating: "9.8/10" },
                { img: "album84.jpg", link: "https://open.spotify.com/album/0CxPbTRARqKUYighiEY9Sz", name: "Use Your Illusion", artist: "Guns N' Roses", rating: "8.8/10" },
                { img: "album85.jpg", link: "https://open.spotify.com/album/4i2Cb9v7g9ieShCgf1gakk", name: "Up And Away", artist: "Σtella", rating: "8/10" },
                { img: "album86.jpg", link: "https://open.spotify.com/album/0fwZXPXf41aF6H0CN3UtXV", name: "Love Me / Love Me Not", artist: "HONNE", rating: "8.9/10" },
                { img: "album87.jpg", link: "https://open.spotify.com/album/4uQ5kFmXQdCxz3WvM4UUzy", name: "Cry", artist: "Cigarettes After Sex", rating: "10/10" },
                { img: "album88.jpg", link: "https://open.spotify.com/album/2RRYaYHY7fIIdvFlvgb5vq", name: "american dream", artist: "21 Savage", rating: "9.6/10" },
                { img: "album89.jpg", link: "https://open.spotify.com/album/4vXt6IpMcSnqonljffWlMI", name: "Born To Die", artist: "Lana Del Rey", rating: "10/10" },
                { img: "album90.jpg", link: "https://open.spotify.com/album/1JNUJFzL4rVRcCD9EhezeH", name: "Sway", artist: "mei ehara", rating: "8.5/10" },
                { img: "album91.jpg", link: "https://open.spotify.com/album/1pflleeGIJGEAillSnSetf", name: "In The End It Always Does", artist: "The Japanese House", rating: "8.8/10" },
                { img: "album92.jpg", link: "https://open.spotify.com/album/6af3Z9vEogmAowqE0JOIFj", name: "PARANOIA", artist: "Maggie Lindemann", rating: "9/10" },
                { img: "album93.jpg", link: "https://open.spotify.com/album/3Iq43NGfIN8tc8AVJ9Konz", name: "les failles", artist: "Pomme", rating: "7.7/10" },
                { img: "album94.jpg", link: "https://open.spotify.com/album/6KSvWFf4g4PrIldtchJsTC", name: "Brol", artist: "Angèle", rating: "8/10" },
                { img: "album95.jpg", link: "https://open.spotify.com/album/7zY2ieneVxxTqhdY9c6Jio", name: "A Call From My Dream", artist: "Meaningful Stone", rating: "9.9/10" },
                { img: "album96.jpg", link: "https://open.spotify.com/album/0moY5BetMaS0Vyi0Hh3zpb", name: "Light Me Up", artist: "The Pretty Reckless", rating: "8.9/10" },
                { img: "album97.jpg", link: "https://open.spotify.com/album/6NhWTFHoOj5n0UhbBkq5G3", name: "Porco Rosso Soundtrack", artist: "Joe Hisaishi", rating: "9/10" },
                { img: "album126.jpg", link: "https://open.spotify.com/album/4TBDgyNsiHYu9xTbasFCE9", name: "Woodland", artist: "The Paper Kites", rating: "9.9/10" },
                { img: "album127.jpg", link: "https://open.spotify.com/album/2yI4m5Yu2tl8v0It5P9WVz", name: "WHO CARES?", artist: "Rex Orange County", rating: "8/10" },
                { img: "album128.jpg", link: "https://open.spotify.com/album/2opiJIrYClkW7qD2vM6vSi", name: "Hope For Sale", artist: "Chiiild", rating: "8.5/10" },
                { img: "album129.jpg", link: "https://open.spotify.com/album/0AL7olZ75pi55q9p1eHaD8", name: "Bloom", artist: "Beach House", rating: "8.9/10" },
                { img: "album98.jpg", link: "https://open.spotify.com/album/53eHm1f3sFiSzWMaKOl98Z", name: "souvlaki", artist: "Slowdive", rating: "9/10" },
                { img: "album99.jpg", link: "https://open.spotify.com/album/0RjsbmAOQzWOq3fxQ002rX", name: "I Am The Dog", artist: "Sir Chloe", rating: "9.7/10" },
                { img: "album134.jpg", link: "https://open.spotify.com/album/6ZG5lRT77aJ3btmArcykra", name: "Parachutes", artist: "Coldplay", rating: "10.1/10" },
                { img: "album100.jpg", link: "https://open.spotify.com/album/7FqHuAvmREiIwVXVpZ9ooP", name: "That's The Spirit", artist: "Bring Me The Horizon", rating: "9/10" },
                { img: "album101.jpg", link: "https://open.spotify.com/album/7ycBtnsMtyVbbwTfJwRjSP", name: "To Pimp A Butterfly", artist: "Kendrick Lamar", rating: "100/10" },
                { img: "album102.jpg", link: "https://open.spotify.com/album/1otOJAtgvO5VCBL4Gykrrd", name: "When It's All Said And Done...Take Time", artist: "GIVEON", rating: "11/10" },
                { img: "album103.jpg", link: "https://open.spotify.com/album/1vi1WySkgPGkbR8NnQzlXu", name: "99%", artist: "RPT MCK", rating: "8.8/10" },
                { img: "album104.jpg", link: "https://open.spotify.com/album/17FBoXK1NU2rvJBbzdzw0r", name: "FUTURE", artist: "Future", rating: "9/10" },
                { img: "album105.jpg", link: "https://open.spotify.com/album/0e9GjrztzBw8oMC6n2CDeI", name: "the record", artist: "boygenius", rating: "9.6789/10" },
                { img: "album106.jpg", link: "https://open.spotify.com/album/5bfpRtBW7RNRdsm3tRyl3R", name: "Dreamland", artist: "Glass Animals", rating: "9.9/10" },
                { img: "album108.jpg", link: "https://open.spotify.com/album/3rrrTOHiXGzuW4FP7t0O1A", name: "Petals To Thorns", artist: "davd", rating: "9/10" },
                { img: "album109.jpg", link: "https://open.spotify.com/album/73TNMu44lT0m1h1Nn6Bfiq", name: "Sail Out", artist: "Jhené Aiko", rating: "8/10" },
                { img: "album110.jpg", link: "https://open.spotify.com/album/748dZDqSZy6aPXKcI9H80u", name: "good kid, m.A.A.d. city (Deluxe)", artist: "Kendrick Lamar", rating: "999/10" },
                { img: "album111.jpg", link: "https://open.spotify.com/album/65edimIChzNNK8VGn56pIK", name: "Nectar", artist: "Joji", rating: "8.8/10" },
                { img: "album112.jpg", link: "https://open.spotify.com/album/5duyQokC4FMcWPYTV9Gpf9", name: "21", artist: "Adele", rating: "8.5/10" },
                { img: "album113.jpg", link: "https://open.spotify.com/album/3Ks0eeH0GWpY4AU20D5HPD", name: "Gemini Rights", artist: "Steve Lacy", rating: "9/10" },
                { img: "album114.jpg", link: "https://open.spotify.com/album/4qZBW3f2Q8y0k1A84d4iAO", name: "My Dear Melancholy,", artist: "The Weeknd", rating: "10/10" },
                { img: "album115.jpg", link: "https://open.spotify.com/album/2sBQhSi92938W2hCLALSHy", name: "strobo", artist: "Vaundy", rating: "8.9/10" },
                { img: "album116.jpg", link: "https://open.spotify.com/album/5xnXOCf5aZgZ43DgGN4EDv", name: "Volcano", artist: "Jungle", rating: "8/10" },
                { img: "album117.jpg", link: "https://open.spotify.com/album/2ANVost0y2y52ema1E9xAZ", name: "Thriller", artist: "Michael Jackson", rating: "9/10" },
                { img: "album118.jpg", link: "https://open.spotify.com/album/0LxeUCxtPfUtnHTKbW52MB", name: "Windswept Adan", artist: "Ichiko Aoba", rating: "9/10" },
                { img: "album119.jpg", link: "https://open.spotify.com/album/1BZoqf8Zje5nGdwZhOjAtD", name: "The Miseducation of Lauryn Hill", artist: "Lauryn Hill", rating: "9.9/10" },
                { img: "album120.jpg", link: "https://open.spotify.com/album/3kEtdS2pH6hKcMU9Wioob1", name: "illmatic", artist: "Nas", rating: "9.5/10" },
                { img: "album121.jpg", link: "https://open.spotify.com/album/1p12OAWwudgMqfMzjMvl2a", name: "The Low End Theory", artist: "A Tribe Called Quest", rating: "8.8/10" },
                { img: "album122.jpg", link: "https://open.spotify.com/album/18XFe4CPBgVezXkxZP6rTb", name: "The Score (Expanded Edition)", artist: "Fugees", rating: "9/10" },
                { img: "album123.jpg", link: "https://open.spotify.com/album/392p3shh2jkxUxY2VHvlH8", name: "channel ORANGE", artist: "Frank Ocean", rating: "11/10" },
                { img: "album124.jpg", link: "https://open.spotify.com/album/5h0KYWMZIg8xT6eRGYkNMh", name: "Because the Internet", artist: "Childish Gambino", rating: "9/10" },
                { img: "album125.jpg", link: "https://open.spotify.com/album/6asP1OdgPUjc7fSTvZxnaM", name: "MELTING MOMENT", artist: "POiSON GiRL FRiEND", rating: "9.8/10" },
                { img: "album130.jpg", link: "https://open.spotify.com/album/5NhRAV4V8xcH0Wzj047C1g", name: "¿Téo?", artist: "¿Téo?", rating: "8.5/10" },
                { img: "album131.jpg", link: "https://open.spotify.com/album/4ASozZrX3WMIJplKcfRJYf", name: "Love Me Like", artist: "Rayana Jay", rating: "9/10" },
                { img: "album132.jpg", link: "https://open.spotify.com/album/0U28P0QVB1QRxpqp5IHOlH", name: "CHROMAKOPIA", artist: "Tyler, The Creator", rating: "10/10" },
                { img: "album133.jpg", link: "https://open.spotify.com/album/3OxfaVgvTxUTy7276t7SPU", name: "Hurry Up Tomorrow", artist: "The Weeknd", rating: "9.9/10" },
                { img: "album135.jpg", link: "https://open.spotify.com/album/03guxdOi12XJbnvxvxbpwG", name: "Submarine", artist: "The Marias", rating: "9/10" },
                { img: "album136.jpg", link: "https://open.spotify.com/album/2B87zXm9bOWvAJdkJBTpzF", name: "Melodrama", artist: "Lorde", rating: "9.8/10" },
                { img: "album137.jpg", link: "https://open.spotify.com/album/0YjOnBY0FRufcmNBTzWTgX", name: "I Can't Handle Change", artist: "Roar", rating: "8.5/10" },
                { img: "album138.jpg", link: "https://open.spotify.com/album/7eed9MBclFPjjjvotfR2e9", name: "Nothing Happens", artist: "Wallows", rating: "8.99/10" },
                { img: "album139.jpg", link: "https://open.spotify.com/album/68L5xVV9wydotfDXEik7eD", name: "five seconds flat", artist: "Lizzy McAlpine", rating: "9.5/10" },
                { img: "album140.jpg", link: "https://open.spotify.com/album/69p42ovQdwmYPLUsAQpeNn", name: "if i could make it go quiet", artist: "girl in red", rating: "9.9/10" },
                { img: "album141.jpg", link: "https://open.spotify.com/album/26HAAGfOhnc0CqqcHoaQGD", name: "Cleopatra", artist: "The Lumineers", rating: "10/10" },
                { img: "album142.jpg", link: "https://open.spotify.com/album/03gwRG5IvkStFnjPmgjElw", name: "Songs of Her's", artist: "Her's", rating: "8.5/10" },
                { img: "album143.jpg", link: "https://open.spotify.com/album/75nZGvjStgCUavXcsYsXf7", name: "The Shark in Your Water", artist: "Flower Face", rating: "9/10" },
                { img: "album144.jpg", link: "https://open.spotify.com/album/1uD1kdwTWH1DZQZqGKz6rY", name: "Jubilee", artist: "Japanese Breakfast", rating: "9.5/10" },
                { img: "album145.jpg", link: "https://open.spotify.com/album/3IIJTTfYV4GU9ST4GbeGhg", name: "we just need some time together", artist: "BETWEEN FRIENDS", rating: "8.8/10" },
                { img: "album146.jpg", link: "https://open.spotify.com/album/5WjaIWthUR3AjA0UYG3jR5", name: "Freaks", artist: "Surf Curse", rating: "8.9/10" },
                { img: "album147.jpg", link: "https://open.spotify.com/album/0mYyY7YPeYMBWKms7lsO3C", name: "Colection 2", artist: "kobasolo", rating: "8/10" },
                { img: "album148.jpg", link: "https://open.spotify.com/album/6nVACH6a27eOWiumAJhDWS", name: "Modal Soul", artist: "Nujabes", rating: "10/10" },
                { img: "album149.jpg", link: "https://open.spotify.com/album/7BiKEf58x9WCD7ysIWCLYC", name: "Dragon In Harmony", artist: "Marcin", rating: "9/10" },
                { img: "album150.jpg", link: "https://open.spotify.com/album/6xQIAbfKyR8HaoJmxTnOHv", name: "Honey", artist: "Samia", rating: "8.9/10" },
                { img: "album151.jpg", link: "https://open.spotify.com/album/5nJ9B1KiydXoYWAcyqlG76", name: "Melophobia", artist: "Cage The Elephant", rating: "8.9/10" },
                { img: "album29.jpg", link: "https://open.spotify.com/album/4lcEERPGbskSKsLWQMTpJx", name: "Tình Yêu, Không Gian & Thời Gian", artist: "Lý Bực", rating: "9.6/10" },
    ];

    // Reset and configure container styles
    circleContainer.style.position = "relative";
    circleContainer.style.width = "100%";
    circleContainer.style.height = "100%";
    circleContainer.style.overflow = "visible";
    
    halfCircle.style.position = "absolute";
    halfCircle.style.right = "-150px"; // Move further to the right (negative value pushes it right)
    halfCircle.style.top = "50%";
    halfCircle.style.transform = "translateY(-50%)";
    halfCircle.style.width = "250px"; 
    halfCircle.style.height = "500px";
    halfCircle.style.overflow = "visible";
    
    // C-shaped curve configuration
    const radius = 250;
    const centerX = 90; // Position at right edge
    const centerY = halfCircle.offsetHeight / 2;
    
    // Set initial active album
    let activeIndex = 0;
    let currentRotation = 0; // Current rotation angle for the C-shape
    
    // C-shaped configuration - using a narrower arc than half-circle
    const visibleCount = 7; // Increased visible count for C shape
    const totalAngle = Math.PI * 0.7; // About 126 degrees (narrower than half-circle)
    const angleStep = totalAngle / (visibleCount - 1);
    const startAngleOffset = Math.PI * 0.15; // Start angle offset for C shape
    
    // Create album items 
    albums.forEach((album, i) => {
        const albumItem = document.createElement('div');
        albumItem.className = 'album-item';
        albumItem.dataset.index = i;
        
        // Create circle CD case within item
        albumItem.innerHTML = `
            <div class="circle-cd-case">
                <div class="circle-album-art" style="background-image: url('assets/Albums/${album.img}');"></div>
                <div class="circle-spine"></div>
            </div>
        `;
        
        // Add event listeners
        albumItem.addEventListener('click', function() {
            const index = parseInt(this.dataset.index);
            setActiveAlbum(index);
        });
        
        // Append to half-circle
        halfCircle.appendChild(albumItem);
    });
    
    // Function to position all items based on current active index
    function positionItems() {
    const items = document.querySelectorAll('.album-item');
    
    items.forEach((item, i) => {
        // Mark active album for styling
        if (i === activeIndex) {
            item.setAttribute('data-active', 'true');
        } else {
            item.setAttribute('data-active', 'false');
        }
        
        // Calculate position in the array considering looping
        let distanceFromActive = (i - activeIndex + albums.length) % albums.length;
        
        // Ensure we get the shortest path (in either direction)
        if (distanceFromActive > albums.length / 2) {
            distanceFromActive -= albums.length;
        }
        
        const absDistance = Math.abs(distanceFromActive);
        const isVisible = absDistance <= Math.floor(visibleCount/2);
        
        if (isVisible) {  
            // Modified curve positioning
            const startAngle = Math.PI / 2;  // Start from top
            const endAngle = -Math.PI / 2;   // End at bottom
            const angleRange = startAngle - endAngle;
            
            // Calculate position on the arc
            let normalizedPosition = distanceFromActive / Math.floor(visibleCount/2);
            normalizedPosition = Math.max(-1, Math.min(1, normalizedPosition)); // Clamp between -1 and 1
            
            // Calculate angle
            const angle = startAngle - (normalizedPosition + 1) / 2 * angleRange;
            
            // Position calculation with adjusted centerX
            const x = centerX - radius * Math.cos(angle);
            const y = centerY + radius * Math.sin(angle);
            
            // Position the item
            item.style.left = `${x}px`;
            item.style.top = `${y}px`;
            
            // Scale and opacity based on distance from active
            const scale = 1 - (absDistance * 0.15);
            const opacity = 1 - (absDistance * 0.2);
            
            // Apply styles
            item.style.transform = `translate(-50%, -50%)`;
            item.style.opacity = opacity;
            item.style.zIndex = 100 - absDistance;
            item.style.display = 'block';
            
            // Scale the CD case while maintaining the brightness difference 
            const cdCase = item.querySelector('.circle-cd-case');
            cdCase.style.transform = `scale(${scale})`;
        } else {
            // Hide items not in view
            item.style.display = 'none';
        }
    });
}
    
// Function to set active album with animation
function setActiveAlbum(index) {
    // Implement looping - wrap around to beginning or end
    if (index < 0) {
        index = albums.length - 1;
    } else if (index >= albums.length) {
        index = 0;
    }
    
    if (index !== activeIndex) {
        // Fade out current display
        activeAlbumDisplay.classList.add('hidden');
        
        // Calculate shortest path to target index
        let distance = index - activeIndex;
        
        // Handle wrapping for shortest path
        if (Math.abs(distance) > albums.length / 2) {
            if (distance > 0) {
                distance = distance - albums.length;
            } else {
                distance = albums.length + distance;
            }
        }
        
        // Animate through intermediate positions for distant albums
        if (Math.abs(distance) > 1) {
            // Store final target
            const targetIndex = index;
            
            // Create animation for intermediate steps
            let currentStep = 0;
            const totalSteps = Math.min(Math.abs(distance), 5);  // Limit to 5 steps max
            const stepDirection = distance > 0 ? 1 : -1;
            
            const animateStep = () => {
                currentStep++;
                
                if (currentStep < totalSteps) {
                    // Calculate intermediate index with looping
                    const nextIndex = (activeIndex + stepDirection) % albums.length;
                    activeIndex = nextIndex < 0 ? albums.length + nextIndex : nextIndex;
                    
                    // Update positions
                    positionItems();
                    
                    // Continue animation
                    setTimeout(animateStep, 100);
                } else {
                    // Final step - update everything
                    setTimeout(() => {
                        activeIndex = targetIndex;
                        updateActiveAlbumDisplay(albums[activeIndex]);
                        positionItems();
                    }, 100);
                }
            };
            
            // Start animation
            animateStep();
        } else {
            // For adjacent albums, just do a simple transition
            setTimeout(() => {
                activeIndex = index;
                updateActiveAlbumDisplay(albums[activeIndex]);
                positionItems();
            }, 300);
        }
    } else {
        // Already active, just update display
        updateActiveAlbumDisplay(albums[activeIndex]);
    }
}

    // Update the active album display and info
    function updateActiveAlbumDisplay(album) {
        // Update info box
        albumInfo.innerHTML = `
            <span class="album-name">${album.name}</span><br>
            <span class="artist-name">${album.artist}</span><br>
            ${album.rating}
        `;
        
        // Update enlarged album display
        activeAlbumDisplay.innerHTML = `
            <a href="${album.link}" target="_blank">
                <div class="cd-case enlarged-case">
                    <div class="album-bg" style="background-image: url('assets/Albums/${album.img}');"></div>
                    <div class="album-art" style="background-image: url('assets/Albums/${album.img}');"></div>
                    <div class="sup pos-tl"></div>
                    <div class="sup pos-tr"></div>
                    <div class="sup pos-bl"></div>
                    <div class="sup pos-br"></div>
                    <div class="spine"></div>
                        <div class="spotify-indicator">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="#1DB954">
                            <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.838-.118-.959-.539-.12-.421.119-.839.54-.959 4.56-1.021 8.52-.6 11.64 1.32.42.18.48.659.36 1.08zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.24 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
                         </svg>
                        </div>
                </div>
  
            </a>
        `;
        
        // Show with animation
        activeAlbumDisplay.classList.remove('hidden');
        activeAlbumDisplay.classList.add('show');
        
        // Update background color
        updateColors(album.img);
    }

// Function to update background and text colors based on album cover
function updateColors(image) {
    const img = new Image();
    img.crossOrigin = "Anonymous";
    img.src = `assets/Albums/${image}`;
    
    img.onload = function() {
        const colors = getImageColors(img);
        const dominant = colors.dominant;
        const vibrantColors = colors.vibrantColors; // Get array of vibrant colors from the image
        
        // Update body background with dominant color
        body.style.backgroundColor = `rgb(${dominant.r}, ${dominant.g}, ${dominant.b})`;
        
        // Keep header background color fixed
        document.getElementById('title').style.backgroundColor = '#F0A8D0';
        
        // Create a semi-transparent version of dominant color for info box
        const albumInfo = document.getElementById('album-info');
        const infoBoxColor = {
            r: Math.min(dominant.r + 20, 255),
            g: Math.min(dominant.g + 20, 255),
            b: Math.min(dominant.b + 20, 255)
        };
        
        // Apply the color with transparency for the info box
        albumInfo.style.background = `rgba(${infoBoxColor.r}, ${infoBoxColor.g}, ${infoBoxColor.b}, 0.7)`;
        albumInfo.style.boxShadow = `0 2px 15px rgba(${infoBoxColor.r}, ${infoBoxColor.g}, ${infoBoxColor.b}, 0.6)`;
        
        // Calculate brightness of the info box background
        const bgBrightness = (infoBoxColor.r * 299 + infoBoxColor.g * 587 + infoBoxColor.b * 114) / 1000;
        
        // Select the most vibrant color that has good contrast with the background
        let bestTextColor = null;
        let bestContrastScore = 0;
        
        // Try each vibrant color to find the best one
        for (const color of vibrantColors) {
            // Calculate brightness of this color
            const colorBrightness = (color.r * 299 + color.g * 587 + color.b * 114) / 1000;
            
            // Calculate contrast (difference in brightness)
            const contrastDiff = Math.abs(bgBrightness - colorBrightness);
            
            // Calculate saturation/colorfulness
            const colorfulness = Math.abs(color.r - color.g) + 
                                Math.abs(color.r - color.b) + 
                                Math.abs(color.g - color.b);
            
            // Combined score favoring both contrast and colorfulness
            const contrastScore = contrastDiff * 1.5 + colorfulness * 0.5;
            
            if (contrastScore > bestContrastScore) {
                bestContrastScore = contrastScore;
                bestTextColor = color;
            }
        }
        
        // If no good vibrant color found, fallback to black or white based on background
        if (!bestTextColor || bestContrastScore < 100) {
            bestTextColor = bgBrightness > 125 ? 
                { r: 30, g: 30, b: 30 } : 
                { r: 245, g: 245, b: 245 };
        }
        
        // Apply text colors
        const textColor = `rgb(${bestTextColor.r}, ${bestTextColor.g}, ${bestTextColor.b})`;
        
        // Apply to album info elements
        const albumNameEl = albumInfo.querySelector('.album-name');
        const artistNameEl = albumInfo.querySelector('.artist-name');
        
        if (albumNameEl) albumNameEl.style.color = textColor;
        if (artistNameEl) artistNameEl.style.color = textColor;
        
        // Apply to remaining text in album info
        albumInfo.style.color = textColor;
    };
}

// Enhanced function to get dominant and vibrant colors from image
function getImageColors(img) {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    
    canvas.width = img.width;
    canvas.height = img.height;
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    
    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
    let allColors = [];
    
    // Sample colors from the image (sample more points for better color representation)
    for (let i = 0; i < imageData.length; i += 4 * 25) { // Sample more frequently
        // Skip transparent pixels
        if (imageData[i + 3] < 128) continue;
        
        const r = imageData[i];
        const g = imageData[i + 1];
        const b = imageData[i + 2];
        
        allColors.push({ r, g, b });
    }
    
    // Calculate the average (dominant) color
    let dominant = { r: 0, g: 0, b: 0 };
    allColors.forEach(color => {
        dominant.r += color.r;
        dominant.g += color.g;
        dominant.b += color.b;
    });
    
    dominant.r = Math.floor(dominant.r / allColors.length);
    dominant.g = Math.floor(dominant.g / allColors.length);
    dominant.b = Math.floor(dominant.b / allColors.length);
    
    // Filter for vibrant colors
    let vibrantColors = allColors.filter(color => {
        // Calculate colorfulness
        const colorfulness = Math.abs(color.r - color.g) + 
                            Math.abs(color.r - color.b) + 
                            Math.abs(color.g - color.b);
        
        // Only include reasonably colorful pixels
        return colorfulness > 45;
    });
    
    // If we don't have enough vibrant colors, add some artificially
    if (vibrantColors.length < 5) {
        // Add complementary color of dominant
        vibrantColors.push({
            r: 255 - dominant.r,
            g: 255 - dominant.g,
            b: 255 - dominant.b
        });
        
        // Add a warm color variant
        vibrantColors.push({
            r: Math.min(dominant.r * 1.4, 255),
            g: Math.min(dominant.g * 0.8, 255),
            b: Math.min(dominant.b * 0.8, 255)
        });
        
        // Add a cool color variant
        vibrantColors.push({
            r: Math.min(dominant.r * 0.8, 255),
            g: Math.min(dominant.g * 0.9, 255),
            b: Math.min(dominant.b * 1.4, 255)
        });
    }
    
    return { 
        dominant,
        vibrantColors
    };
}

// Handle mouse wheel scrolling with looping
    halfCircle.addEventListener('wheel', function(e) {
        e.preventDefault();
        
        // Determine direction
        const direction = e.deltaY > 0 ? 1 : -1;
        
        // Calculate next index with looping
        let nextIndex = activeIndex + direction;
        
        // Implement looping
        if (nextIndex < 0) {
            nextIndex = albums.length - 1;
        } else if (nextIndex >= albums.length) {
            nextIndex = 0;
        }
        
        setActiveAlbum(nextIndex);
    });
    
    // Add touch support for mobile
    halfCircle.addEventListener('touchstart', function(e) {
        isDragging = true;
        startY = e.touches[0].clientY;
        lastY = e.touches[0].clientY;
        lastDragTime = Date.now();
        dragStartIndex = activeIndex;
        dragVelocity = 0;
        
        // Prevent default to avoid scroll/zoom
        e.preventDefault();
    });
    
    document.addEventListener('touchmove', function(e) {
        if (!isDragging) return;
        
        // Get touch position
        const touchY = e.touches[0].clientY;
        
        // Calculate vertical drag distance
        const dy = touchY - startY;
        
        // Calculate drag velocity for momentum
        const now = Date.now();
        const dt = now - lastDragTime;
        if (dt > 0) {
            dragVelocity = (touchY - lastY) / dt * 20;
        }
        lastY = touchY;
        lastDragTime = now;
        
        // Convert to album index change
        const indexChange = Math.floor(dy / 40);
        
        if (indexChange !== 0) {
            // Apply the change with looping
            let newIndex = (dragStartIndex - indexChange + albums.length) % albums.length;
            
            setActiveAlbum(newIndex);
            
            // Reset start point to prevent jumps
            startY = touchY;
            dragStartIndex = newIndex;
        }
        
        // Prevent default to avoid page scrolling
        e.preventDefault();
    });
    
    document.addEventListener('touchend', function() {
        if (isDragging) {
            isDragging = false;
            
            // Apply momentum effect on release
            if (Math.abs(dragVelocity) > 0.5) {
                const direction = dragVelocity > 0 ? 1 : -1;
                const momentum = Math.min(Math.abs(Math.round(dragVelocity)), 5);
                
                let momentumStep = 0;
                const momentumInterval = setInterval(() => {
                    momentumStep++;
                    if (momentumStep > momentum) {
                        clearInterval(momentumInterval);
                        return;
                    }
                    
                    let nextIndex = (activeIndex + direction + albums.length) % albums.length;
                    setActiveAlbum(nextIndex);
                }, 150);
            }
        }
    });

    // Handle resize
    window.addEventListener('resize', positionItems);

    // Initialize the display
    updateActiveAlbumDisplay(albums[activeIndex]);
    positionItems();
});
    </script>
</body>
</html>